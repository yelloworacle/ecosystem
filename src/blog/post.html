<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <title>{{object.meta-title}}</title>
        <meta name="description" content="{{object.meta-description}}" />
        <meta name="keywords" content="{{object.meta-keywords}}" />
        <meta name="robots" content="index, follow" />
        <meta name="author" content="{{object.author}}" />
        <meta name="generator" content="Yellow Oracle" />

        <!-- Canonical Tag -->
        <link rel="canonical" href="https://yelloworacle.com" />

        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="../assets/favicon.ico" />

        <!-- Open Graph Tags (Facebook) -->
        <meta property="og:title" content="{{object.meta-title}}" />
        <meta property="og:description" content="{{object.meta-description}}" />
        <meta property="og:url" content="https://yelloworacle.com" />
        <meta
            property="og:image"
            content="https://yelloworacle.com/assets/image.jpg" />
        <meta property="og:type" content="website" />

        <!-- Twitter Card Tags (Twitter) -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="YellowOracle" />
        <meta name="twitter:title" content="{{object.meta-title}}" />
        <meta
            name="twitter:description"
            content="{{object.meta-description}}" />
        <meta
            name="twitter:image"
            content="https://yelloworacle.com/assets/twitter-image.jpg" />

        <!-- Structured Data (Schema Markup) -->
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "WebPage",
                "name": "Yellow Oracle - Discover your destiny",
                "description": "Chart and Envision Your Future's Many Paths",
                "url": "https://yelloworacle.com",
                "image": "https://yelloworacle.com/image.jpg",
                "author": {
                    "@type": "Organization",
                    "name": "Yellow Oracle"
                }
            }
        </script>

        <link
            rel="stylesheet"
            href="../index.css"
            array="files"
            object="65395d6f6ebd31be4c4349b2"
            key="{}"
            type="text/css"
            parse="true" />
        <link rel="manifest" href="../manifest.webmanifest" />
    </head>

    <body>
        <!-- Navbar  -->
        <nav
            class="width:auto display:flex align-items:center background:transparent padding-top:10px padding-bottom:10px z-index:1"
            content_id="content"
            scroll="sticky-nav,"
            scroll-up="5"
            scroll-down="5"
            path="../"
            src="../components/navbar.html"></nav>

        <!-- SideNav Left-->
        <sidenav
            id="menuL"
            class="top:0px left:0px width:300px@lg@xl"
            path="../"
            src="../components/sidenav.html"
            resize-selector="document; main, document; footer"
            resize-attribute="style"
            resize-property="margin-left"
            session
            input-selector="[actions][]"
            input-attribute="href"
            input-value="../"></sidenav>

        <!-- Main Content -->
        <main class="align-items:start">
            <div class="flex-grow:1 margin-top:70px max-width:800px">
                <!--  Post Category Start  -->
                <div
                    array="blog-posts"
                    object=""
                    key="category"
                    render-selector="[template]"
                    class="padding:0_20px width:100% margin-top:20px display:flex flex-wrap:wrap gap:10px">
                    <a
                        class="border-radius:5px padding:2px_5px background:#F23A2E color:#fff color:#ddd:hover font-size:12px@sm display:none:empty"
                        href="#"
                        >{{object.category}}</a
                    >
                </div>

                <h1
                    class="padding:0_20px margin-top:20px font-size:37px font-size:25px@xs@sm word-spacing:5px">
                    {{object.title}}
                </h1>

                <div
                    class="padding:0_20px margin-top:20px display:flex flex-wrap:wrap gap:10px">
                    <span
                        >By
                        <a class="font-weight:bold">{{object.author}}</a></span
                    >
                    <input
                        type="date"
                        value="{{object.published}}"
                        value-type="toLocaleDateString"
                        onload-next
                        onload-attribute="value"
                        hidden />
                    <span></span>

                    <form hidden>
                        <input
                            type="number"
                            array="blog-posts"
                            object="{{object._id}}"
                            key="$inc.views"
                            value="1"
                            hidden />
                        <input
                            id="tester"
                            onload-next
                            onload-attribute="$click" />
                        <div actions="timeout(2000), save"></div>
                    </form>
                    <i src="../assets/svg/eye.svg"></i>
                    <span array="blog-posts" object="{{object._id}}" key="views"
                        >{{object.views}}</span
                    >

                    <a href="#comments">
                        <i src="../assets/svg/comment-alt.svg"></i>
                        <span
                            array="comments"
                            object
                            key="$length"
                            filter-key="post_id"
                            filter-value="{{object._id}}"
                            >0</span
                        >
                    </a>
                </div>

                <div
                    class="margin-top:25px margin-bottom:10px width:100% border-bottom:1px_solid_#ddd"></div>

                <!--  Social Icon Start  -->
                <div
                    class="padding:0_20px"
                    share-network="true"
                    share-url="$href"
                    share-title="{{object.title}}"
                    share-height="600"
                    share-width="600"
                    share-media="{{object.image[0].src}}">
                    <div class="display:flex flex-wrap:wrap gap:10px">
                        <a href="#" share-network="facebook" class="">
                            <i src="../assets/svg/facebook-f.svg"></i>
                        </a>
                        <a href="#" share-network="twitter" class=""
                            ><i src="../assets/svg/twitter.svg"></i
                        ></a>
                        <a href="#" share-network="linkedin" class=""
                            ><i src="../assets/svg/linkedin-in.svg"></i
                        ></a>
                        <a share class="">
                            <i src="../assets/svg/share-alt.svg"></i>
                        </a>
                    </div>
                </div>
                <!--  Social Icon End  -->

                <div
                    class="margin-top:10px margin-bottom:25px width:100% border-bottom:1px_solid_#ddd"></div>

                <!--  Post Media -->
                <div class="padding:0_20px margin-bottom:15px width:100%">
                    <!-- Image -->
                    <img src="{{object.image[0].src}}" width="100%" />

                    <!-- Video -->
                    <video
                        width="100%"
                        controls
                        poster="{{object.image[0].src}}"
                        onloadeddata="this.previousElementSibling.style.display='none';"
                        onerror="this.style.display='none';">
                        <source
                            src="{{object.video[0].src}}"
                            type="video/mp4" />
                        Your browser does not support the video tag.
                    </video>
                </div>

                <!--  Post Content -->
                <div class="padding:0_20px width:100%">{{object.content}}</div>

                <div
                    class="margin-top:25px width:100% border-bottom:1px_solid_#ddd"></div>

                <!--  Comment Start  -->
                <input
                    type="hidden"
                    filter-next
                    filter-key="post_id"
                    filter-value="{{object._id}}" />
                <div
                    id="comments"
                    class="padding:0_20px margin-bottom:20px margin-top:20px width:100% display:flex flex-wrap:wrap"
                    array="comments"
                    object
                    filter-limit="20"
                    render-selector="[template]">
                    <div template render-as="comment">
                        <div
                            class="img-comment-section margin-right:10px margin-bottom:10px flex-basis:15% flex-basis:100%@xs">
                            <!-- <img src="images/blog-post/comment1.jpg" /> -->
                            <div
                                class="text-comment-section flex-basis:70% flex-basis:100%@xs">
                                <div class="display:flex">
                                    <!-- Avatar -->
                                    <div
                                        class="avatar-wrapper margin-right:10px">
                                        <div class="avatar round">
                                            <span class="avatar-name">
                                                {{comment.name}}
                                            </span>
                                            <span class="avatar-image">
                                                <img
                                                    array="users"
                                                    object="$user_id"
                                                    key="avatar"
                                                    onerror="this.style.display='none'"
                                                    width="40px" />
                                            </span>
                                        </div>
                                    </div>
                                    <div>
                                        <div>{{comment.name}}</div>
                                        <div>
                                            <input
                                                type="date"
                                                value="{{comment.created.on}}"
                                                value-type="toLocaleDateString"
                                                onload-next
                                                onload-attribute="value"
                                                hidden />
                                            <span></span>
                                        </div>
                                        <!-- <div>{{comment.created.on}}</div> -->
                                    </div>
                                </div>
                            </div>

                            <div
                                class="margin-bottom:8px font-size:14px@sm font-size:13px@xs">
                                <p>{{comment.comment}}</p>
                            </div>
                            <div class="display:flex">
                                <form>
                                    <input
                                        type="number"
                                        array="blog-posts"
                                        object="{{object._id}}"
                                        key="$inc.likes"
                                        value="1"
                                        hidden />
                                    <a actions="save"
                                        ><i
                                            src="../assets/svg/thumbs-up.svg"></i
                                    ></a>
                                </form>
                                <span
                                    array="blog-posts"
                                    object="{{object._id}}"
                                    key="likes"
                                    >{{object.likes}}</span
                                >

                                <!-- <a href="#"
                                    ><i src="../assets/svg/thumbs-down.svg"></i
                                ></a> -->
                            </div>
                        </div>
                        <div
                            class="margin-top:25px width:100% border-bottom:1px_solid_#ddd"></div>
                    </div>
                    <!--  Comment End  -->

                    <!--  Post COMMENT Start  -->
                    <form
                        array="comments"
                        object=""
                        class="padding:0_20px width:100% margin-top:20px display:flex flex-direction:column gap:20px">
                        <h3 class="width:100%">LEAVE A REPLY</h3>
                        <input
                            type="hidden"
                            key="post_id"
                            value="{{object._id}}" />
                        <floating-label>
                            <textarea
                                rows="10"
                                placeholder="Write Your Comment"
                                key="comment"
                                required></textarea>
                        </floating-label>
                        <floating-label>
                            <input
                                type="text"
                                placeholder="Enter Your Name"
                                key="name"
                                required />
                        </floating-label>
                        <floating-label>
                            <input
                                type="email"
                                placeholder="Enter Your Email"
                                key="email"
                                required />
                        </floating-label>

                        <div class="width:100% margin-bottom:20px">
                            <input
                                class="margin-right:10px"
                                type="checkbox"
                                key="" /><span class="color:#333"
                                >Save my name and email in this browser for the
                                next time I comment</span
                            >
                            <!-- ToDo: store data in local storage if above is checked -->
                        </div>
                        <button actions="validate, save">Post Comment</button>
                    </form>

                    <div
                        class="margin-top:40px margin-bottom:50px width:100% border-bottom:1px_solid_#ddd"></div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer
            id="spreadtheword"
            content_id="content"
            path="../"
            src="../components/footer.html"></footer>

        <script src="../dist/CoCreate.js"></script>
    </body>
</html>
