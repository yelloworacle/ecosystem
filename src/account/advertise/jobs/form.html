<section class="centered">
	<a href="./signin.html" session="false" hidden></a>
	<form state_id="form-fields" array="jobs" object="" class="flex-form">
		<div src="../components/form-toolbar.html" class="width:100%"></div>

		<floating-label class="width:100%">
			<input
				type="text"
				key="name"
				placeholder="Job Title"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:100%">
			<input
				type="text"
				key="company"
				placeholder="Company Name"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:100%">
			<input
				key="location.address"
				type="text"
				google-maps="places"
				google-maps-key="autocomplete"
				placeholder="Location (e.g., Remote, City, State)"
				class="floating-label" />
		</floating-label>

		<input type="hidden" key="location.type" value="Point" />
		<input
			type="number"
			key="location.coordinates[0]"
			google-maps="places"
			google-maps-key="geometry.location.lat"
			hidden />
		<input
			type="number"
			key="location.coordinates[1]"
			google-maps="places"
			google-maps-key="geometry.location.lng"
			hidden />

		<floating-label class="width:100%">
			<select
				id="remote-option"
				key="remote"
				placeholder="Remote"
				input-attribute="remote-type"
				input-selector="document; #remote-details"
				class="floating-label">
				<option value="" disabled selected>Select Remote Option</option>
				<option value="none">None</option>
				<option value="full">Full Remote</option>
				<option value="partial">Partial Remote</option>
			</select>
		</floating-label>

		<floating-label class="width:100%" id="remote-details">
			<style>
				#remote-details {
					display: none;
				}
				#remote-details[remote-type="partial"] {
					display: block;
				}
			</style>
			<input
				type="text"
				key="remote-details"
				placeholder="e.g., 2 days/week remote or 50% remote"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:100%">
			<textarea
				key="description"
				placeholder="Job Description"
				class="floating-label"
				height="auto"></textarea>
		</floating-label>

		<floating-label class="width:100%">
			<textarea
				key="requirements"
				placeholder="Requirements"
				class="floating-label"
				height="auto"></textarea>
		</floating-label>

		<floating-label class="width:100%">
			<input
				type="text"
				key="employment_type"
				placeholder="Employment Type (e.g., Full-time, Part-time, Contract)"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:290px">
			<input
				type="number"
				key="salary"
				placeholder="Salary"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:290px">
			<input
				type="number"
				key="years_experience"
				placeholder="Years of Experience"
				class="floating-label" />
		</floating-label>

		<floating-label class="width:100%">
			<select
				key="job_category"
				placeholder="Job Category"
				class="floating-label">
				<option label="Technology" value="technology">
					Technology
				</option>
				<option label="Finance" value="finance">Finance</option>
				<option label="Healthcare" value="healthcare">
					Healthcare
				</option>
				<option label="Education" value="education">Education</option>
				<option label="Other" value="other">Other</option>
			</select>
		</floating-label>

		<floating-label class="width:100%">
			<textarea
				id="careerResults"
				key="careers"
				openai="chat.completions.create"
				openai-key="choices[0].message.content"
				openai-request="false"
				value-type="array"
				height="auto"
				placeholder="Matching Careers"></textarea>
		</floating-label>

		<div hidden>
			<input
				openai="chat.completions.create"
				openai-key="model"
				value="gpt-4o-mini" />

			<input
				openai="chat.completions.create"
				openai-key="messages[0].role"
				value="system" />
			<textarea
				id="systemInstructions"
				openai="chat.completions.create"
				openai-key="messages[0].content"></textarea>

			<input
				openai="chat.completions.create"
				openai-key="messages[1].role"
				value="user" />
			<input
				key="{}"
				save="false"
				reference="false"
				openai="chat.completions.create"
				openai-key="messages[1].content"
				value-prefix="Job details:" />
		</div>
		<div class="display:flex gap:20px width:100% margin-top:20px">
			<button
				actions="state"
				state_to="mainView"
				state-src="$back"
				class="red margin-left:auto">
				<i src="../assets/svg/ban.svg"></i>
				<span class="margin-left:5px"> Cancel</span>
			</button>
			<button
				actions="click, openai.chat.completions.create, save, click, timeout(2000), click"
				click-selector="i"
				click-attribute="src"
				click-value="../assets/svg/spinner.svg, ../assets/svg/check-circle.svg, ../assets/svg/save.svg">
				<i src="../assets/svg/save.svg"></i>
				<span class="margin-left:5px">Save</span>
			</button>
		</div>
	</form>
	<textarea
		array="ai"
		object
		key="content"
		filter-query-key="name"
		filter-query-value="Career Job Matches"
		input-previous="#systemInstructions"
		input-attribute="value"
		hidden></textarea>
</section>
