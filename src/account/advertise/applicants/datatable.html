<section class="centered">
	<a href="./signin.html" session="false" hidden></a>
	<floating-label class="margin-bottom:20px">
		<cocreate-select
			realtime="true"
			array="users"
			object="$user_id"
			key="currentOrg"
			input-attribute="value"
			input-selector="document; #test"
			placeholder="Organization">
			<cc-options
				array="organizations"
				object
				filter-limit
				render-selector="[template]">
				<input
					type="hidden"
					filter-query-key="members.$in"
					value-type="array"
					filter-parent
					value="$user_id" />

				<cc-option value="{{object._id}}" template
					>{{object.name}}
				</cc-option>
			</cc-options>
		</cocreate-select>
	</floating-label>

	<input
		id="test"
		type="hidden"
		array="users"
		object="$user_id"
		key="currentOrg"
		filter-query-key="organization"
		filter-selector="document; [org-filter][]"
		change-selector="document; .change[]"
		change-attribute="value"
		change-value="0"
		input-attribute="object"
		input-selector="document; [org-object][]"
		placeholder="Organization"
		value="test" />

	<div
		path="./account/advertise/applicants/form.html"
		src="./components/datatable-toolbar.html"
		class="width:100%"></div>

	<div class="datatable-container">
		<table>
			<tbody class="header">
				<tr>
					<td>
						<floating-label>
							<input
								type="text"
								filter-selector="document; tbody[render-selector]"
								filter-query-key="name.$regex"
								filter-query-options="i"
								state_id="datatable"
								placeholder="Name"
								class="floating-label" />
						</floating-label>
						<span class="sort">
							<a
								filter-selector="document; tbody[render-selector]"
								filter-sort-key="name"
								filter-sort-direction=""
								click-value="desc, asc"
								click-attribute="filter-sort-direction"
								state_id="datatable">
								<i
									toggle-attribute="src"
									toggle-value="../assets/svg/sort-down.svg, ../assets/svg/sort-up.svg"
									src="../assets/svg/sort.svg"></i>
							</a>
						</span>
					</td>
					<td>
						<floating-label>
							<input
								type="text"
								filter-selector="document; tbody[render-selector]"
								filter-query-key="post.$regex"
								filter-query-options="i"
								state_id="datatable"
								placeholder="Post"
								class="floating-label" />
						</floating-label>
						<span class="sort">
							<a
								filter-selector="document; tbody[render-selector]"
								filter-sort-key="post"
								filter-sort-direction=""
								click-value="desc, asc"
								click-attribute="filter-sort-direction"
								state_id="datatable">
								<i
									toggle-attribute="src"
									toggle-value="../assets/svg/sort-down.svg, ../assets/svg/sort-up.svg"
									src="../assets/svg/sort.svg"></i>
							</a>
						</span>
					</td>
					<td>
						<floating-label>
							<input
								type="text"
								filter-selector="document; tbody[render-selector]"
								filter-query-key="type.$regex"
								filter-query-options="i"
								state_id="datatable"
								placeholder="Type"
								class="floating-label" />
						</floating-label>
						<span class="sort">
							<a
								filter-selector="document; tbody[render-selector]"
								filter-sort-key="type"
								filter-sort-direction=""
								click-value="desc, asc"
								click-attribute="filter-sort-direction"
								state_id="datatable">
								<i
									toggle-attribute="src"
									toggle-value="../assets/svg/sort-down.svg, ../assets/svg/sort-up.svg"
									src="../assets/svg/sort.svg"></i>
							</a>
						</span>
					</td>
					<td>
						<floating-label>
							<input
								type="text"
								filter-selector="document; tbody[render-selector]"
								filter-query-key="_id.$regex"
								filter-query-options="i"
								state_id="datatable"
								placeholder="id"
								class="floating-label" />
						</floating-label>
						<span class="sort">
							<a
								filter-selector="document; tbody[render-selector]"
								filter-sort-key="_id"
								filter-sort-direction=""
								click-value="desc, asc"
								click-attribute="filter-sort-direction"
								state_id="datatable">
								<i
									toggle-attribute="src"
									toggle-value="../assets/svg/sort-down.svg, ../assets/svg/sort-up.svg"
									src="../assets/svg/sort.svg"></i>
							</a>
						</span>
					</td>
				</tr>
			</tbody>

			<!-- <input
				type="hidden"
				array="users"
				object="$user_id"
				key="currentOrg"
				filter-key="organization"
				filter-next /> -->

			<tbody
				array="applicants"
				object
				filter-sort-key="_id"
				filter-sort-direction="desc"
				filter-limit
				render-selector="[template]"
				org-filter>
				<tr
					class="hover"
					template
					object="{{object._id}}"
					toggle="selected"
					toggle-attribute="class">
					<td class="display:flex min-width:200px align-items:center">
						<a
							actions="state"
							state_to="mainView"
							state-src="./account/advertise/applicants/form.html">
							<h4>{{object.name}}</h4>
							<div
								state_to="form-fields"
								state-object="{{object._id}}"></div>
						</a>
					</td>
					<td>
						<a
							actions="state"
							state_to="mainView"
							state-src="./account/advertise/applicants/form.html">
							<h4>{{object.post_id}}</h4>
							<div
								state_to="form-fields"
								state-object="{{object._id}}"></div>
						</a>
					</td>
					<td>
						<a
							actions="state"
							state_to="mainView"
							state-src="./account/advertise/applicants/form.html">
							<h4>{{object.type}}</h4>
							<div
								state_to="form-fields"
								state-object="{{object._id}}"></div>
						</a>
					</td>
					<td>
						<a
							actions="state"
							state_to="mainView"
							state-src="./account/advertise/applicants/form.html">
							<b>{{object._id}}</b>
							<div
								state_to="form-fields"
								state-object="{{object._id}}"></div>
						</a>
					</td>
				</tr>
			</tbody>
		</table>

		<div filter-on="scroll" filter-previous="[render-selector]"></div>
	</div>
</section>
