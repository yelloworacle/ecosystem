<!DOCTYPE html>
<div class="main-view max-width:800px">
    <a href="./signin.html" session="false" hidden></a>

    <style>
        .ambassador {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        #terms {
            display: none;
        }

        [terms="false"] #table {
            display: none;
        }

        [terms="false"] #dashboard {
            display: none;
        }

        [terms="false"] #terms {
            display: block;
        }

        .ambassador h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .ambassador p {
            font-size: 18px;
            font-weight: 400;
            margin-top: 20px;
            line-height: 1.6;
        }
        .ambassador a {
            padding-left: 15px;
            color: #1a73e8;
            font-weight: bold;
        }
        .ambassador .join {
            text-align: center;
            padding-top: 30px;
        }
        .ambassador .join .terms {
            text-align: center;
            padding: 30px;
        }
        #dashboard .card {
            flex-grow: 1;
        }
    </style>

    <input
        type="hidden"
        realtime="false"
        filter-key="ambassador"
        filter-selector="document; [ambassador][]"
        value="$user_id" />

    <section id="dashboard" class="width:100% padding:0px">
        <div class="display:flex flex-wrap:wrap gap:15px margin-bottom:30px">
            <div id="subscribers" class="card">
                <h2>Subscribers</h2>

                <span array="users" object key="$length" ambassador></span>
            </div>

            <!-- Next Payout Section -->
            <div id="nextPayout" class="card">
                <h2>Next Payout</h2>
                <span>$</span>
                <span
                    array="payouts"
                    object
                    filter-key="status"
                    filter-value="pending"
                    key="$sum.amount"
                    ambassador></span>
            </div>

            <!-- Total Payouts Section -->
            <div id="totalPayouts" class="card">
                <h2>Total Payouts</h2>
                <span>$</span>
                <span
                    array="payouts"
                    object
                    filter-key="status"
                    filter-value="paid"
                    key="$sum.amount"
                    ambassador></span>
            </div>
        </div>
    </section>
    <section id="table" class="width:100% padding:0px">
        <table class="width:100% border-collapse:collapse">
            <tbody>
                <tr class="border-bottom:1px_solid_darkgray">
                    <td
                        class="position:sticky top:0 background:white padding:10px">
                        <floating-label>
                            <input
                                type="text"
                                filter-selector="document; tbody[render-selector]"
                                filter-key="amount"
                                state_id="datatable"
                                placeholder="Amount"
                                class="floating-label" />
                        </floating-label>
                        <span
                            class="position:absolute bottom:20px right:20px float:right z-index:6">
                            <a
                                filter-selector="document; tbody[render-selector]"
                                filter-sort-key="amount"
                                filter-sort-direction="asc"
                                click-value="desc, asc"
                                click-attribute="filter-sort-direction"
                                state_id="datatable">
                                <i
                                    toggle-attribute="src"
                                    toggle-value="./assets/svg/sort-down.svg, ./assets/svg/sort-up.svg"
                                    class="display:flex height:18px"
                                    src="./assets/svg/sort.svg"></i>
                            </a>
                        </span>
                    </td>
                    <td
                        class="position:sticky top:0 background:white padding:10px">
                        <floating-label>
                            <input
                                type="text"
                                filter-selector="document; tbody[render-selector]"
                                filter-key="status"
                                state_id="datatable"
                                placeholder="status"
                                class="floating-label" />
                        </floating-label>
                        <span
                            class="position:absolute bottom:20px right:20px float:right z-index:6">
                            <a
                                filter-selector="document; tbody[render-selector]"
                                filter-sort-key="status"
                                filter-sort-direction="asc"
                                click-value="desc, asc"
                                click-attribute="filter-sort-direction"
                                state_id="datatable">
                                <i
                                    toggle-attribute="src"
                                    toggle-value="./assets/svg/sort-down.svg, ./assets/svg/sort-up.svg"
                                    class="display:flex height:18px"
                                    src="./assets/svg/sort.svg"></i>
                            </a>
                        </span>
                    </td>
                    <td
                        class="position:sticky top:0 background:white padding:10px">
                        <floating-label>
                            <input
                                type="text"
                                filter-selector="document; tbody[render-selector]"
                                filter-key="_id"
                                state_id="datatable"
                                placeholder="id"
                                class="floating-label" />
                        </floating-label>
                        <span
                            class="position:absolute bottom:20px right:20px float:right z-index:6">
                            <a
                                filter-selector="document; tbody[render-selector]"
                                filter-sort-key="_id"
                                filter-sort-direction=""
                                click-value="desc, asc"
                                click-attribute="filter-sort-direction"
                                state_id="datatable">
                                <i
                                    toggle-attribute="src"
                                    toggle-value="./assets/svg/sort-down.svg, ./assets/svg/sort-up.svg"
                                    class="display:flex height:18px"
                                    src="./assets/svg/sort.svg"></i>
                            </a>
                        </span>
                    </td>
                </tr>
            </tbody>

            <tbody
                array="payouts"
                object
                render-selector="[template]"
                ambassador>
                <tr
                    class="background:gainsboro:hover border-bottom:1px_solid_darkgray"
                    template
                    object="{{object._id}}"
                    toggle="selected"
                    toggle-attribute="class">
                    <td
                        class="padding:10px display:flex min-width:200px align-items:center">
                        <a
                            actions="state"
                            state_to="adminView"
                            state-src="./users/form.html"
                            state-overwrite>
                            <h4>{{object.amount}}</h4>
                            <div
                                state_to="form-fields"
                                state-object="{{object._id}}"></div>
                        </a>
                    </td>
                    <td class="padding:10px">
                        <a
                            actions="state"
                            state_to="adminView"
                            state-src="./users/form.html"
                            state-overwrite>
                            <b>{{object.status}}</b>
                            <div
                                state_to="form-fields"
                                state-object="{{object._id}}"></div>
                        </a>
                    </td>
                    <td class="padding:10px">
                        <a
                            actions="state"
                            state_to="adminView"
                            state-src="./users/form.html"
                            state-overwrite>
                            <b>{{object._id}}</b>
                            <div
                                state_to="form-fields"
                                state-object="{{object._id}}"></div>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- <div filter-on="fetched" filter-previous="[render-selector]"></div> -->
        <!-- <div filter-on="scroll" filter-previous="[render-selector]"></div> -->
    </section>

    <section id="terms" class="ambassador padding:40px@md@lg@xl">
        <input
            type="hidden"
            array="users"
            object=""
            key="ambassadorTerms"
            input-closest=".main-view"
            input-attribute="terms" />

        <h1>Become an Ambassador</h1>
        <p>
            Ambassadors of YellowOracle.com receive a unique ID and receive 15%
            of fees associated with purchases of services from users paid out
            with a minimum amount of $100 UDS, paid monthly, for the life of the
            relationship. Must have authority to act on behalf of any
            organization.
        </p>
        <p>
            Ambassadors of YellowOracle.com promote the website to both
            end-users and employers with their unique ID.
        </p>
        <p>
            YellowOracle appreciates Ambassadors who spread the word with
            integrity. Comments and suggestions are greatly appreciated to
            continuously improve user and employer experiences.
        </p>
        <p>
            Example: yelloworacle.com/customName or yelloworacle.com/unique-name
            <!-- <small class="width:100%">Example: yelloworacle.com/customName or yelloworacle.com/unique-name</small> -->
        </p>

        <form class="join" realtime="false">
            <input
                type="text"
                array="users"
                object=""
                key="ambassadorUrl"
                placeholder="Ambassador URL"
                required
                unique
                class="padding-left:145px!important" />
            <span
                class="position:relative top:-34px left:6px float:left padding:5px background:whitesmoke"
                >yelloworacle.com/</span
            >

            <input type="hidden" stripe="accounts.create.type" value="custom" />
            <input
                type="hidden"
                array="users"
                object=""
                key="email"
                stripe="accounts.create.email" />
            <input
                type="hidden"
                array="users"
                object=""
                key="email"
                stripe="accounts.create.individual.email" />
            <input
                type="hidden"
                stripe="accounts.create.business_profile.product_description"
                value="AI generated career recomendations" />
            <input
                type="number"
                stripe="accounts.create.business_profile.mcc"
                value="5968"
                hidden />
            <input
                type="hidden"
                stripe="accounts.create.business_profile.url"
                value="https://yelloworacle.com" />
            <input
                type="hidden"
                stripe="accounts.create.settings.payments.statement_descriptor"
                value="yelloworacle" />
            <input
                type="checkbox"
                stripe="accounts.create.capabilities.card_payments.requested"
                hidden
                checked />
            <input
                type="checkbox"
                stripe="accounts.create.capabilities.transfers.requested"
                hidden
                checked />

            <div
                class="width:100% display:flex flex-wrap:wrap margin-top:20px gap:15px">
                <floating-label class="flex-grow:1">
                    <input
                        type="text"
                        array="users"
                        object=""
                        key="firstname"
                        stripe="accounts.create.individual.first_name"
                        placeholder="First Name"
                        required />
                </floating-label>

                <floating-label class="flex-grow:1">
                    <input
                        type="text"
                        array="users"
                        object=""
                        key="lastname"
                        stripe="accounts.create.individual.last_name"
                        placeholder="Last Name"
                        required />
                </floating-label>
            </div>

            <floating-label class="margin-top:20px padding:10px_0px">
                <div
                    class="floating-label display:flex flex-wrap:wrap gap:15px"
                    placeholder="Date of Birth:"
                    active>
                    <floating-label class="flex-grow:1 width:75px">
                        <input
                            type="number"
                            stripe="accounts.create.individual.dob.day"
                            placeholder="Day"
                            min="1"
                            max="31"
                            required />
                    </floating-label>
                    <floating-label class="flex-grow:1 width:90px">
                        <input
                            type="number"
                            stripe="accounts.create.individual.dob.month"
                            placeholder="Month"
                            min="1"
                            max="12"
                            required />
                    </floating-label>
                    <floating-label class="flex-grow:1 width:80px">
                        <input
                            type="number"
                            stripe="accounts.create.individual.dob.year"
                            placeholder="Year"
                            min="1900"
                            max="2024"
                            required />
                    </floating-label>
                </div>
            </floating-label>
            <div
                class="width:100% display:flex flex-wrap:wrap margin-top:20px gap:15px">
                <floating-label class="flex-grow:1">
                    <select
                        array="users"
                        object=""
                        key="business_type"
                        stripe="accounts.create.business_type"
                        placeholder="Bussiness Type">
                        <option value="individual">Individual</option>
                        <option value="company">Company</option>
                        <option value="non_profit">non_profit</option>
                        <option value="BR">government_entity</option>
                    </select>
                </floating-label>

                <floating-label class="flex-grow:1">
                    <select
                        id="country"
                        key="country"
                        stripe="accounts.create.country"
                        placeholder="Country"
                        required>
                        <option value="" disabled selected>
                            Select a Country
                        </option>
                        <option value="AU">Australia</option>
                        <option value="AT">Austria</option>
                        <option value="BE">Belgium</option>
                        <option value="BR">Brazil</option>
                        <option value="BG">Bulgaria</option>
                        <option value="CA">Canada</option>
                        <option value="CY">Cyprus</option>
                        <option value="CZ">Czech Republic</option>
                        <option value="DK">Denmark</option>
                        <option value="EE">Estonia</option>
                        <option value="FI">Finland</option>
                        <option value="FR">France</option>
                        <option value="DE">Germany</option>
                        <option value="GR">Greece</option>
                        <option value="HK">Hong Kong</option>
                        <option value="HU">Hungary</option>
                        <option value="IN">India</option>
                        <option value="IE">Ireland</option>
                        <option value="IT">Italy</option>
                        <option value="JP">Japan</option>
                        <option value="LV">Latvia</option>
                        <option value="LT">Lithuania</option>
                        <option value="LU">Luxembourg</option>
                        <option value="MT">Malta</option>
                        <option value="MX">Mexico</option>
                        <option value="NL">Netherlands</option>
                        <option value="NZ">New Zealand</option>
                        <option value="NO">Norway</option>
                        <option value="PL">Poland</option>
                        <option value="PT">Portugal</option>
                        <option value="RO">Romania</option>
                        <option value="SG">Singapore</option>
                        <option value="SK">Slovakia</option>
                        <option value="SI">Slovenia</option>
                        <option value="ES">Spain</option>
                        <option value="SE">Sweden</option>
                        <option value="CH">Switzerland</option>
                        <option value="TH">Thailand</option>
                        <option value="GB">United Kingdom</option>
                        <option value="US">United States</option>
                    </select>
                </floating-label>
            </div>

            <div class="terms">
                <input
                    type="checkbox"
                    array="users"
                    object=""
                    key="ambassadorTerms"
                    placeholder="Accept Terms"
                    required />
                <a href="./terms/ambassador.html">Ambassador Terms</a>
            </div>

            <input
                type="hidden"
                stripe="accounts.create.tos_acceptance.ip"
                value="$ip" />

            <input
                type="date"
                stripe="accounts.create.tos_acceptance.date"
                value-type="toUnixTimestamp"
                value="$now"
                hidden />

            <div
                template="validate"
                class="card margin-bottom:15px padding:10px min-height:40px max-width:800px">
                <span class="{{status}}">
                    <span class="{{type}}">{{message}}</span
                    ><a actions="remove"> X</a>
                </span>
            </div>

            <!-- <button actions="accounts.create">Join</button> -->
            <button actions="validate, accounts.create, save">Join</button>
        </form>
    </section>
</div>

<script src="./account/ambassador/index.js"></script>
